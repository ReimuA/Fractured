var Ot=Object.defineProperty;var Ht=(e,t,n)=>t in e?Ot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var D=(e,t,n)=>(Ht(e,typeof t!="symbol"?t+"":t,n),n);import{s as q,n as N,c as ot,o as Gt,B as kt,d as Ct,l as Tt,r as Pt,C as Rt}from"../chunks/scheduler.B5UvdKru.js";import{S as X,i as J,e as y,c as x,A as L,o as h,g as C,d,a as V,D as st,B as R,s as k,f as P,h as v,C as Mt,t as _t,b as yt,j as Yt,E as gt,F as U,G as Vt,H as j,u as Q,v as K,w as tt,n as et,l as nt,x as at,I as Nt}from"../chunks/index.BR0z87oj.js";import{_ as jt}from"../chunks/preload-helper.BQ24v_F8.js";import{w as lt}from"../chunks/index.B8lEBx_q.js";import{e as bt}from"../chunks/each.D6YF6ztN.js";const qt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='-3%20-3%2030%2030'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12%202C6.47715%202%202%206.47715%202%2012C2%2017.5229%206.47715%2022%2012%2022C17.5229%2022%2022%2017.5229%2022%2012C22%206.47715%2017.5229%202%2012%202ZM0%2012C0%205.3726%205.3726%200%2012%200C18.6274%200%2024%205.3726%2024%2012C24%2018.6274%2018.6274%2024%2012%2024C5.3726%2024%200%2018.6274%200%2012Z'%20fill='rgba(0,0,0,0.7)'%20stroke='none'%20/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.59162%2022.7357C9.49492%2022.6109%209.49492%2021.4986%209.59162%2019.399C8.55572%2019.4347%207.90122%2019.3628%207.62812%2019.1833C7.21852%2018.9139%206.80842%2018.0833%206.44457%2017.4979C6.08072%2016.9125%205.27312%2016.8199%204.94702%2016.6891C4.62091%2016.5582%204.53905%2016.0247%205.84562%2016.4282C7.15222%2016.8316%207.21592%2017.9303%207.62812%2018.1872C8.04032%2018.4441%209.02572%2018.3317%209.47242%2018.1259C9.91907%2017.9201%209.88622%2017.1538%209.96587%2016.8503C10.0666%2016.5669%209.71162%2016.5041%209.70382%2016.5018C9.26777%2016.5018%206.97697%2016.0036%206.34772%2013.7852C5.71852%2011.5669%206.52907%2010.117%206.96147%209.49369C7.24972%209.07814%207.22422%208.19254%206.88497%206.83679C8.11677%206.67939%209.06732%207.06709%209.73672%207.99999C9.73737%208.00534%2010.6143%207.47854%2012.0001%207.47854C13.386%207.47854%2013.8777%207.90764%2014.2571%207.99999C14.6365%208.09234%2014.94%206.36699%2017.2834%206.83679C16.7942%207.79839%2016.3844%208.99999%2016.6972%209.49369C17.0099%209.98739%2018.2372%2011.5573%2017.4833%2013.7852C16.9807%2015.2706%2015.9927%2016.1761%2014.5192%2016.5018C14.3502%2016.5557%2014.2658%2016.6427%2014.2658%2016.7627C14.2658%2016.9427%2014.4942%2016.9624%2014.8233%2017.8058C15.0426%2018.368%2015.0585%2019.9739%2014.8708%2022.6234C14.3953%2022.7445%2014.0254%2022.8257%2013.7611%2022.8673C13.2924%2022.9409%2012.7835%2022.9822%2012.2834%2022.9982C11.7834%2023.0141%2011.6098%2023.0123%2010.9185%2022.948C10.4577%2022.9051%2010.0154%2022.8343%209.59162%2022.7357Z'%20fill='rgba(0,0,0,0.7)'%20stroke='none'%20/%3e%3c/svg%3e",Xt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20fill='%23000000'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='800px'%20height='800px'%20viewBox='0%200%20973.1%20973.1'%20xml:space='preserve'%20%3e%3cg%3e%3cpath%20d='M502.29,788.199h-47c-33.1,0-60,26.9-60,60v64.9c0,33.1,26.9,60,60,60h47c33.101,0,60-26.9,60-60v-64.9%20C562.29,815,535.391,788.199,502.29,788.199z'/%3e%3cpath%20d='M170.89,285.8l86.7,10.8c27.5,3.4,53.6-12.4,63.5-38.3c12.5-32.7,29.9-58.5,52.2-77.3c31.601-26.6,70.9-40,117.9-40%20c48.7,0,87.5,12.8,116.3,38.3c28.8,25.6,43.1,56.2,43.1,92.1c0,25.8-8.1,49.4-24.3,70.8c-10.5,13.6-42.8,42.2-96.7,85.9%20c-54,43.7-89.899,83.099-107.899,118.099c-18.4,35.801-24.8,75.5-26.4,115.301c-1.399,34.1,25.8,62.5,60,62.5h49%20c31.2,0,57-23.9,59.8-54.9c2-22.299,5.7-39.199,11.301-50.699c9.399-19.701,33.699-45.701,72.699-78.1%20C723.59,477.8,772.79,428.4,795.891,392c23-36.3,34.6-74.8,34.6-115.5c0-73.5-31.3-138-94-193.4c-62.6-55.4-147-83.1-253-83.1%20c-100.8,0-182.1,27.3-244.1,82c-52.8,46.6-84.9,101.8-96.2,165.5C139.69,266.1,152.39,283.5,170.89,285.8z'/%3e%3c/g%3e%3c/svg%3e";function Jt(e){let t,n=`<a href="https://flam3.com/flame_draves.pdf"><img src="${Xt}" width="48" height="48" alt="Flames documentation" class="filter-white m-2 mt-3 svelte-g1hc4e"/></a> <a href="https://github.com/ReimuA/Fractured"><img src="${qt}" width="64" height="64" alt="GitHub" class="filter-white m-2 svelte-g1hc4e"/></a>`;return{c(){t=y("div"),t.innerHTML=n,this.h()},l(a){t=x(a,"DIV",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-n2ndme"&&(t.innerHTML=n),this.h()},h(){h(t,"class","absolute bottom-0 right-0 flex")},m(a,s){C(a,t,s)},p:N,i:N,o:N,d(a){a&&d(t)}}}class Zt extends X{constructor(t){super(),J(this,t,null,Jt,q,{})}}function it(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function Qt(e,t){return(e%t+t)%t}const H=e=>Math.atan2(e.y,e.x),G=e=>it(e),Kt=()=>Math.random()<.5?0:Math.PI,It=()=>Math.random(),te={name:"Linear",function:e=>({x:e.x,y:e.y})},ee={name:"Sinusoidal",function:e=>({x:Math.sin(e.x),y:Math.sin(e.y)})},ne={name:"Spherical",function:e=>{const t=it(e),n=t*t;return{x:e.x/n,y:e.y/n}}},ae={name:"Swirl",function:e=>{const t=it(e),n=t*t,a=Math.cos(n),s=Math.sin(n);return{x:e.x*s-e.y*a,y:e.x*a+e.y*s}}},se={name:"Horseshoe",function:e=>{const n=1/it(e);return{x:n*(e.x+e.y)*(e.x-e.y),y:n*2*e.x*e.y}}},re={name:"Polar",function:e=>({x:H(e)/Math.PI,y:G(e)-1})},oe={name:"Handkerchief",function:e=>{const t=G(e),n=H(e);return{x:t*Math.sin(n+t),y:t*Math.cos(n-t)}}},le={name:"Heart",function:e=>{const t=G(e),n=H(e);return{x:t*Math.sin(n*t),y:t*-Math.cos(n*t)}}},ie={name:"Disc",function:e=>{const t=G(e),a=H(e)/Math.PI;return{x:a*Math.sin(Math.PI*t),y:a*Math.cos(Math.PI*t)}}},ce={name:"Spiral",function:e=>{const t=G(e),n=H(e),a=1/t;return{x:a*(Math.cos(n)+Math.sin(t)),y:a*(Math.sin(n)-Math.cos(t))}}},ue={name:"Hyperbolic",function:e=>{const t=G(e),n=H(e);return{x:Math.sin(n)/t,y:t*Math.cos(n)}}},he={name:"Diamond",function:e=>{const t=G(e),n=H(e);return{x:Math.sin(n)*Math.cos(t),y:Math.sin(t)*Math.cos(n)}}},me={name:"Ex",function:e=>{const t=G(e),n=H(e),a=Math.sin(n+t),s=Math.cos(n-t),r=a*a*a,l=s*s*s;return{x:t*(r+l),y:t*(r-l)}}},fe={name:"Julia",function:e=>{const t=G(e),n=H(e),a=Kt(),s=Math.sqrt(t);return{x:s*Math.cos(n/2+a),y:s*Math.sin(n/2+a)}}},de={name:"Bent",function:e=>e.x>=0&&e.y>=0?e:e.x<0&&e.y>=0?{x:2*e.x,y:e.y}:e.x>=0&&e.y<0?{x:e.x,y:e.y/2}:{x:2*e.x,y:e.y/2}},pe={name:"Waves",function:(e,t)=>({x:e.x*t.b*Math.sin(e.y/(t.c*t.c)),y:e.y+t.e*Math.sin(e.x/(t.f*t.f))})},ge={name:"Fishe eye",function:e=>{const n=2/(G(e)+1);return{x:n*e.x,y:n*e.y}}},be={name:"Exponential",function:e=>{const t=Math.exp(e.x-1);return{x:t*Math.cos(Math.PI*e.y),y:t*Math.sin(Math.PI*e.y)}}},_e={name:"Power",function:e=>{const t=G(e),n=H(e),a=Math.pow(t,Math.sin(n));return{x:a*Math.cos(n),y:a*Math.sin(n)}}},ye={name:"Fan",function:(e,t)=>{const n=it(e),a=H(e),s=Math.PI*t.c*t.c,r=t.f;return Qt(a+r,s)>s/2?{x:n*Math.cos(a-s/2),y:n*Math.sin(a-s/2)}:{x:n*Math.cos(a+s/2),y:n*Math.sin(a+s/2)}}},xe={name:"Square",function:(e,t)=>({x:It()-.5,y:It()-.5})},zt=[te,ee,ne,ae,se,re,oe,le,ie,ce,ue,he,me,fe,de,pe,ge,be,_e,ye,xe],ve=e=>zt.find(t=>t.name==e),Ft="Heatmap",we="Structural",Ce="Structural (Palette)",Me="Structural (Palette index)",$e=[Ft,we,Ce,Me];function ke(e,t,n,a,s,r){return{a:e,b:t,c:n,d:a,e:s,f:r}}const Pe={a:{x:.5,y:.5,z:.5},b:{x:.5,y:.5,z:.5},c:{x:1,y:1,z:1},d:{x:0,y:.333,z:.667}},ze={a:{x:0,y:.5,z:.5},b:{x:0,y:.5,z:.5},c:{x:0,y:.5,z:.333},d:{x:0,y:.5,z:.667}},Se={a:{x:0,y:.5,z:.5},b:{x:0,y:.5,z:.5},c:{x:0,y:.333,z:.5},d:{x:0,y:.667,z:.5}},Ee={a:{x:.667,y:.5,z:.5},b:{x:.5,y:.667,z:.5},c:{x:.667,y:.666,z:.5},d:{x:.2,y:0,z:.5}},Te={a:{x:.5,y:.5,z:0},b:{x:.5,y:.5,z:0},c:{x:.5,y:.5,z:0},d:{x:.5,y:0,z:0}},Re={a:{x:.5,y:.5,z:.5},b:{x:.5,y:.5,z:.5},c:{x:.8,y:.8,z:.5},d:{x:0,y:.2,z:.5}},Ve={a:{x:.5,y:0,z:.5},b:{x:.5,y:0,z:.5},c:{x:.5,y:0,z:.5},d:{x:0,y:0,z:.5}},Ne={a:{x:1,y:.5,z:.5},b:{x:.5,y:.5,z:.5},c:{x:.75,y:1,z:.667},d:{x:.8,y:1,z:.333}},Ie={a:{x:.5,y:.5,z:0},b:{x:.5,y:.5,z:0},c:{x:.1,y:.5,z:0},d:{x:0,y:0,z:0}},Le={a:{x:.5,y:0,z:.5},b:{x:.5,y:0,z:.5},c:{x:.5,y:0,z:.333},d:{x:.5,y:0,z:.667}},Be={a:{x:.168,y:-.002,z:0},b:{x:.918,y:.968,z:0},c:{x:.338,y:.5,z:0},d:{x:-.252,y:.468,z:0}},Ae={a:{x:.518,y:.558,z:.108},b:{x:.408,y:.628,z:.048},c:{x:.288,y:.288,z:-.562},d:{x:.448,y:-.312,z:-1.342}},Dt=[{name:"Rainbow",palette:Pe},{name:"Blue-Cyan",palette:ze},{name:"Blue-Magenta",palette:Le},{name:"Green",palette:Ae},{name:"Green-Cyan",palette:Se},{name:"Green-Magenta",palette:Ee},{name:"Green-Red",palette:Te},{name:"Orange-Blue",palette:Re},{name:"Fire",palette:Be},{name:"Red-Blue",palette:Ve},{name:"Yellow-Magenta-Cyan",palette:Ne},{name:"Yellow-Red",palette:Ie}];function wt(e){return function(){e|=0,e=e+2654435769|0;let t=e^e>>>16;return t=Math.imul(t,569420461),t=t^t>>>15,t=Math.imul(t,1935289751),((t=t^t>>>15)>>>0)/4294967296}}class Wt{constructor(){D(this,"resolution",{x:1920,y:1080});D(this,"antialiasing",!1);D(this,"gammaCorrection",.454545);D(this,"densityEstimation",null);D(this,"renderMode",Ft);D(this,"colorPalette",Dt[0]);D(this,"spaceWarp",{rotationalSymmetry:3,mirrorX:!1,mirrorY:!1,zoom:1});D(this,"seed",0);D(this,"prng",wt(0));D(this,"componentsNumberRange",{min:4,max:4});D(this,"variationsNumberRange",{min:4,max:14});D(this,"variationsPools",[])}withResolution(t){return this.resolution=t,this}withVariations(t){return this.variationsPools=t,this}withRendermode(t){return this.renderMode=t,this}withNamedPalette(t){return this.colorPalette=t,this}withSpaceWarp(t){return this.spaceWarp=t,this}withSuperSampleRatio(t){return this.antialiasing=t,this}withComponentsNumberRange(t){return this.componentsNumberRange=t,this}withDensityEstimation(t){return this.densityEstimation=t,this}withVariationsNumberRange(t){return this.variationsNumberRange=t,this}withgammaCorrection(t){return this.gammaCorrection=t,this}inferParameterFromFlames(t){return this.resolution=t.resolution,this.antialiasing=t.antialiasing,this.gammaCorrection=t.gammaCorrection,this.densityEstimation=t.densityEstimation,this.renderMode=t.renderMode,this.colorPalette=t.namedPalette,this.spaceWarp=t.spaceWarp,this}iRandom(t){return t.min===t.max?t.max:Math.floor(this.prng()*(t.max-t.min+1)+t.min)}createRandomTransform(){const t=()=>this.prng()*3-1.5;return ke(t(),t(),t(),t(),t(),t())}createRandomVariations(t,n){const a=[];for(let r=0;r<t;r++){const l=this.prng(),p=n[Math.floor(this.prng()*n.length)];a.some(i=>i.variation.name===p.name)||a.push({weight:l,variation:p})}const s=a.reduce((r,l)=>r+l.weight,0);for(const r of a)r.weight/=s;return a}createRandomFlamesComponent(t){const n=this.prng(),a=this.createRandomTransform(),s=this.iRandom(this.variationsNumberRange),r=this.createRandomVariations(s,t);return{enabled:!0,color:{r:this.prng(),g:this.prng(),b:this.prng()},colorPaletteIndex:this.prng(),weight:n,transform:a,weightedVariations:r}}createRandomFlamesComponents(t){const n=this.iRandom(this.componentsNumberRange),a=new Array(n);for(let r=0;r<n;r++)a[r]=this.createRandomFlamesComponent(t);const s=a.reduce((r,l)=>r+l.weight,0);for(const r of a)r.weight/=s;return a}buildInternal(){let t=this.variationsPools.map(n=>ve(n)).filter(n=>n!=null);return t.length===0&&(t=zt),{gammaCorrection:this.gammaCorrection,densityEstimation:this.densityEstimation,resolution:this.resolution,antialiasing:this.antialiasing,renderMode:this.renderMode,namedPalette:this.colorPalette,spaceWarp:this.spaceWarp,final:this.createRandomFlamesComponent(t),components:this.createRandomFlamesComponents(t)}}pureBuild(){return this.prng=wt(this.seed),this.buildInternal()}build(){return this.seed=Math.random()*1e7,this.prng=wt(this.seed),this.buildInternal()}}const Ut=lt(new Wt),O=lt({flames:new Wt().build(),resetType:"full"});Ut.subscribe(e=>{const t=e.build();O.set({flames:t,resetType:"full"})});const $t=lt();function Fe(e){let t;return{c(){t=y("canvas"),this.h()},l(n){t=x(n,"CANVAS",{width:!0,height:!0,class:!0}),V(t).forEach(d),this.h()},h(){h(t,"width","1920"),h(t,"height","1080"),h(t,"class","h-screen w-screen bg-black absolute top-0 left-0 -z-10")},m(n,a){C(n,t,a),e[1](t)},p:N,i:N,o:N,d(n){n&&d(t),e[1](null)}}}function De(e,t,n){let a,s;ot(e,$t,o=>n(3,a=o)),ot(e,O,o=>n(4,s=o));let r,l;const p=async()=>{const o=r.transferControlToOffscreen(),f=await jt(()=>import("../chunks/flamesWorker.BCpkkwtT.js"),__vite__mapDeps([]),import.meta.url);l=new f.default,l.onerror=console.error,l.onmessageerror=console.error;const c={resetType:"init",rawFlames:JSON.stringify(s.flames),canvasContext:o};l.postMessage(c,[o])};Gt(()=>{p(),O.subscribe(o=>{const _={rawFlames:JSON.stringify(o.flames),resetType:o.resetType};l==null||l.postMessage(_)}),kt($t,a=r,a)});function i(o){Ct[o?"unshift":"push"](()=>{r=o,n(0,r)})}return[r,i]}class We extends X{constructor(t){super(),J(this,t,De,Fe,q,{})}}function Ue(e){let t,n='<svg width="32" height="24" class="svelte-1iolgnf"><line id="top" x1="0" y1="2" x2="32" y2="2" class="svelte-1iolgnf"></line><line id="middle" x1="0" y1="12" x2="24" y2="12" class="svelte-1iolgnf"></line><line id="bottom" x1="0" y1="22" x2="32" y2="22" class="svelte-1iolgnf"></line></svg>',a,s;return{c(){t=y("button"),t.innerHTML=n,this.h()},l(r){t=x(r,"BUTTON",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-1rhka7d"&&(t.innerHTML=n),this.h()},h(){h(t,"class","absolute top-0 left-0 pl-2 pt-4 text-white hover:text-gray-700 cursor-pointer mr-4 border-none focus:outline-none svelte-1iolgnf"),st(t,"open",e[0])},m(r,l){C(r,t,l),a||(s=R(t,"click",e[1]),a=!0)},p(r,[l]){l&1&&st(t,"open",r[0])},i:N,o:N,d(r){r&&d(t),a=!1,s()}}}function Oe(e,t,n){let{open:a=!1}=t;const s=()=>n(0,a=!a);return e.$$set=r=>{"open"in r&&n(0,a=r.open)},[a,s]}class He extends X{constructor(t){super(),J(this,t,Oe,Ue,q,{open:0})}}function Lt(e,t,n){const a=e.slice();return a[5]=t[n],a[6]=t,a[7]=n,a}function Bt(e){let t,n,a=e[5].variation.name+"",s,r,l;function p(){return e[2](e[5],e[6],e[7])}return{c(){t=y("button"),n=y("p"),s=_t(a),this.h()},l(i){t=x(i,"BUTTON",{class:!0});var o=V(t);n=x(o,"P",{class:!0});var f=V(n);s=yt(f,a),f.forEach(d),o.forEach(d),this.h()},h(){h(n,"class",""),st(n,"text-white",e[5].selected),st(n,"text-slate-600",!e[5].selected),h(t,"class","block pl-12")},m(i,o){C(i,t,o),v(t,n),v(n,s),r||(l=R(t,"click",p),r=!0)},p(i,o){e=i,o&1&&a!==(a=e[5].variation.name+"")&&Yt(s,a),o&1&&st(n,"text-white",e[5].selected),o&1&&st(n,"text-slate-600",!e[5].selected)},d(i){i&&d(t),r=!1,l()}}}function Ge(e){let t,n="Enable variations",a,s,r,l,p,i='<p class="bg-slate-700 text-white py-1 px-4 rounded">NEW</p>',o,f,_=bt(e[0]),c=[];for(let m=0;m<_.length;m+=1)c[m]=Bt(Lt(e,_,m));return{c(){t=y("p"),t.textContent=n,a=k(),s=y("div");for(let m=0;m<c.length;m+=1)c[m].c();r=k(),l=y("div"),p=y("button"),p.innerHTML=i,this.h()},l(m){t=x(m,"P",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-nl5fdn"&&(t.textContent=n),a=P(m),s=x(m,"DIV",{class:!0});var w=V(s);for(let b=0;b<c.length;b+=1)c[b].l(w);r=P(w),l=x(w,"DIV",{class:!0});var u=V(l);p=x(u,"BUTTON",{class:!0,"data-svelte-h":!0}),L(p)!=="svelte-en60rs"&&(p.innerHTML=i),u.forEach(d),w.forEach(d),this.h()},h(){h(t,"class","pt-8 pl-6 text-white"),h(p,"class","block"),h(l,"class","flex justify-center w-full my-6"),h(s,"class","")},m(m,w){C(m,t,w),C(m,a,w),C(m,s,w);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(s,null);v(s,r),v(s,l),v(l,p),o||(f=R(p,"click",e[3]),o=!0)},p(m,[w]){if(w&1){_=bt(m[0]);let u;for(u=0;u<_.length;u+=1){const b=Lt(m,_,u);c[u]?c[u].p(b,w):(c[u]=Bt(b),c[u].c(),c[u].m(s,r))}for(;u<c.length;u+=1)c[u].d(1);c.length=_.length}},i:N,o:N,d(m){m&&(d(t),d(a),d(s)),Mt(c,m),o=!1,f()}}}function Ye(e,t,n){let a;ot(e,O,i=>n(4,a=i));let s=zt.map(i=>({variation:i,selected:Math.random()<.2}));s.some(i=>i.selected)||(s[0].selected=!0),r();function r(){Ut.update(i=>i.inferParameterFromFlames(a.flames).withVariations(s.filter(o=>o.selected).map(o=>o.variation.name)))}return[s,r,(i,o,f)=>{n(0,o[f].selected=!i.selected,s)},()=>r()]}class je extends X{constructor(t){super(),J(this,t,Ye,Ge,q,{})}}function qe(e,t,n){const a=e.slice();return a[5]=t[n],a}function Xe(e,t,n){const a=e.slice();return a[8]=t[n],a}function Je(e){let t,n=e[8].name+"",a;return{c(){t=y("option"),a=_t(n),this.h()},l(s){t=x(s,"OPTION",{class:!0});var r=V(t);a=yt(r,n),r.forEach(d),this.h()},h(){h(t,"class","text-white bg-slate-900"),t.__value=e[8],U(t,t.__value)},m(s,r){C(s,t,r),v(t,a)},p:N,d(s){s&&d(t)}}}function Ze(e){let t,n;return{c(){t=y("option"),n=_t(e[5]),this.h()},l(a){t=x(a,"OPTION",{class:!0});var s=V(t);n=yt(s,e[5]),s.forEach(d),this.h()},h(){h(t,"class","text-white bg-slate-900"),t.__value=e[5],U(t,t.__value)},m(a,s){C(a,t,s),v(t,n)},p:N,d(a){a&&d(t)}}}function Qe(e){let t,n,a="Color",s,r,l,p,i="Color render mode",o,f,_,c,m=bt(Dt),w=[];for(let g=0;g<m.length;g+=1)w[g]=Je(Xe(e,m,g));let u=bt($e),b=[];for(let g=0;g<u.length;g+=1)b[g]=Ze(qe(e,u,g));return{c(){t=y("div"),n=y("p"),n.textContent=a,s=k(),r=y("select");for(let g=0;g<w.length;g+=1)w[g].c();l=k(),p=y("p"),p.textContent=i,o=k(),f=y("select");for(let g=0;g<b.length;g+=1)b[g].c();this.h()},l(g){t=x(g,"DIV",{});var z=V(t);n=x(z,"P",{class:!0,"data-svelte-h":!0}),L(n)!=="svelte-11kkon7"&&(n.textContent=a),s=P(z),r=x(z,"SELECT",{class:!0});var E=V(r);for(let B=0;B<w.length;B+=1)w[B].l(E);E.forEach(d),l=P(z),p=x(z,"P",{class:!0,"data-svelte-h":!0}),L(p)!=="svelte-1h3ola2"&&(p.textContent=i),o=P(z),f=x(z,"SELECT",{class:!0});var A=V(f);for(let B=0;B<b.length;B+=1)b[B].l(A);A.forEach(d),z.forEach(d),this.h()},h(){h(n,"class","pt-8 pl-6 text-white"),h(r,"class",At),e[0].palette===void 0&&Tt(()=>e[2].call(r)),h(p,"class","pt-8 pl-6 text-white"),h(f,"class",At),e[0].renderMode===void 0&&Tt(()=>e[3].call(f))},m(g,z){C(g,t,z),v(t,n),v(t,s),v(t,r);for(let E=0;E<w.length;E+=1)w[E]&&w[E].m(r,null);gt(r,e[0].palette,!0),v(t,l),v(t,p),v(t,o),v(t,f);for(let E=0;E<b.length;E+=1)b[E]&&b[E].m(f,null);gt(f,e[0].renderMode,!0),_||(c=[R(r,"change",e[2]),R(f,"change",e[3])],_=!0)},p(g,[z]){z&1&&gt(r,g[0].palette),z&1&&gt(f,g[0].renderMode)},i:N,o:N,d(g){g&&d(t),Mt(w,g),Mt(b,g),_=!1,Pt(c)}}}let At="round-r-4 bg-slate-900 ml-12 p-1 mt-2 text-white border-slate-300 border-2 rounded w-48";function Ke(e,t,n){let a,s;ot(e,O,i=>n(4,a=i));let r=lt({palette:a.flames.namedPalette,renderMode:a.flames.renderMode});ot(e,r,i=>n(0,s=i)),r.subscribe(i=>{const o=a.flames;o.namedPalette=i.palette,o.renderMode=i.renderMode,kt(O,a={flames:o,resetType:"none"},a)});function l(){s.palette=Vt(this),r.set(s)}function p(){s.renderMode=Vt(this),r.set(s)}return[s,r,l,p]}class tn extends X{constructor(t){super(),J(this,t,Ke,Qe,q,{})}}function en(e){let t,n="Zoom",a,s,r,l,p="Space warping",i,o,f,_,c,m,w,u="Mirror X Axis",b,g,z,E,A,B="Mirror Y Axis",F,Y;return{c(){t=y("p"),t.textContent=n,a=k(),s=y("input"),r=k(),l=y("p"),l.textContent=p,i=k(),o=y("input"),f=k(),_=y("label"),c=y("input"),m=k(),w=y("span"),w.textContent=u,b=k(),g=y("label"),z=y("input"),E=k(),A=y("span"),A.textContent=B,this.h()},l($){t=x($,"P",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-d3bpvu"&&(t.textContent=n),a=P($),s=x($,"INPUT",{type:!0,min:!0,class:!0}),r=P($),l=x($,"P",{class:!0,"data-svelte-h":!0}),L(l)!=="svelte-nlnci6"&&(l.textContent=p),i=P($),o=x($,"INPUT",{type:!0,min:!0,class:!0}),f=P($),_=x($,"LABEL",{class:!0});var S=V(_);c=x(S,"INPUT",{type:!0,class:!0}),m=P(S),w=x(S,"SPAN",{class:!0,"data-svelte-h":!0}),L(w)!=="svelte-kl7l28"&&(w.textContent=u),S.forEach(d),b=P($),g=x($,"LABEL",{class:!0});var I=V(g);z=x(I,"INPUT",{type:!0,class:!0}),E=P(I),A=x(I,"SPAN",{class:!0,"data-svelte-h":!0}),L(A)!=="svelte-7w4a6h"&&(A.textContent=B),I.forEach(d),this.h()},h(){h(t,"class","pt-12 pl-6 text-white"),h(s,"type","number"),h(s,"min","0"),h(s,"class","round-r-4 bg-slate-900 ml-12 p-1 mt-2 text-white border-slate-300 border-2 rounded w-48"),h(l,"class","pt-4 pl-6 text-white"),h(o,"type","number"),h(o,"min","1"),h(o,"class","round-r-4 bg-slate-900 ml-12 p-1 mt-2 text-white border-slate-300 border-2 rounded w-48"),h(c,"type","checkbox"),h(c,"class","round-r-4 bg-slate-900 ml-12 p-1 mt-4 border-slate-300 border-2 rounded"),h(w,"class","text-white"),h(_,"class","block"),h(z,"type","checkbox"),h(z,"class","round-r-4 bg-slate-900 ml-12 p-1 mt-4 border-slate-300 border-2 rounded"),h(A,"class","text-white"),h(g,"class","block")},m($,S){C($,t,S),C($,a,S),C($,s,S),U(s,e[0].zoom),C($,r,S),C($,l,S),C($,i,S),C($,o,S),U(o,e[0].rotationalSymmetry),C($,f,S),C($,_,S),v(_,c),c.checked=e[0].mirrorX,v(_,m),v(_,w),C($,b,S),C($,g,S),v(g,z),z.checked=e[0].mirrorY,v(g,E),v(g,A),F||(Y=[R(s,"input",e[2]),R(o,"input",e[3]),R(c,"change",e[4]),R(z,"change",e[5])],F=!0)},p($,[S]){S&1&&j(s.value)!==$[0].zoom&&U(s,$[0].zoom),S&1&&j(o.value)!==$[0].rotationalSymmetry&&U(o,$[0].rotationalSymmetry),S&1&&(c.checked=$[0].mirrorX),S&1&&(z.checked=$[0].mirrorY)},i:N,o:N,d($){$&&(d(t),d(a),d(s),d(r),d(l),d(i),d(o),d(f),d(_),d(b),d(g)),F=!1,Pt(Y)}}}function nn(e,t,n){let a,s;ot(e,O,f=>n(6,a=f));let r=lt({mirrorY:a.flames.spaceWarp.mirrorY,mirrorX:a.flames.spaceWarp.mirrorX,rotationalSymmetry:a.flames.spaceWarp.rotationalSymmetry,zoom:a.flames.spaceWarp.zoom});ot(e,r,f=>n(0,s=f)),r.subscribe(f=>{const _=a.flames;_.spaceWarp={mirrorX:f.mirrorX,mirrorY:f.mirrorY,rotationalSymmetry:f.rotationalSymmetry,zoom:f.zoom},kt(O,a={resetType:"soft",flames:_},a)});function l(){s.zoom=j(this.value),r.set(s)}function p(){s.rotationalSymmetry=j(this.value),r.set(s)}function i(){s.mirrorX=this.checked,r.set(s)}function o(){s.mirrorY=this.checked,r.set(s)}return[s,r,l,p,i,o]}class an extends X{constructor(t){super(),J(this,t,nn,en,q,{})}}function sn(e){let t,n="Quality enhancement",a,s,r,l="Gamma correction",p,i,o,f,_,c,m,w="Anti aliasing",u,b,g,z,E,A="Density estimation",B,F,Y,$="Min sigma",S,I,ct,ut,Z,rt,St="Max sigma",xt,W,ht,vt,Et;return{c(){t=y("p"),t.textContent=n,a=k(),s=y("label"),r=y("span"),r.textContent=l,p=k(),i=y("input"),o=k(),f=y("label"),_=y("input"),c=k(),m=y("span"),m.textContent=w,u=k(),b=y("label"),g=y("input"),z=k(),E=y("span"),E.textContent=A,B=k(),F=y("label"),Y=y("span"),Y.textContent=$,S=k(),I=y("input"),ut=k(),Z=y("label"),rt=y("span"),rt.textContent=St,xt=k(),W=y("input"),this.h()},l(M){t=x(M,"P",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-9b3mi8"&&(t.textContent=n),a=P(M),s=x(M,"LABEL",{class:!0});var T=V(s);r=x(T,"SPAN",{class:!0,"data-svelte-h":!0}),L(r)!=="svelte-uu36jo"&&(r.textContent=l),p=P(T),i=x(T,"INPUT",{type:!0,min:!0,class:!0}),T.forEach(d),o=P(M),f=x(M,"LABEL",{class:!0});var mt=V(f);_=x(mt,"INPUT",{type:!0,class:!0}),c=P(mt),m=x(mt,"SPAN",{class:!0,"data-svelte-h":!0}),L(m)!=="svelte-1lwyeq0"&&(m.textContent=w),mt.forEach(d),u=P(M),b=x(M,"LABEL",{class:!0});var ft=V(b);g=x(ft,"INPUT",{type:!0,class:!0}),z=P(ft),E=x(ft,"SPAN",{class:!0,"data-svelte-h":!0}),L(E)!=="svelte-9fsjst"&&(E.textContent=A),ft.forEach(d),B=P(M),F=x(M,"LABEL",{class:!0});var dt=V(F);Y=x(dt,"SPAN",{class:!0,"data-svelte-h":!0}),L(Y)!=="svelte-akojla"&&(Y.textContent=$),S=P(dt),I=x(dt,"INPUT",{type:!0,min:!0,max:!0,class:!0}),dt.forEach(d),ut=P(M),Z=x(M,"LABEL",{class:!0});var pt=V(Z);rt=x(pt,"SPAN",{class:!0,"data-svelte-h":!0}),L(rt)!=="svelte-1cip6h8"&&(rt.textContent=St),xt=P(pt),W=x(pt,"INPUT",{type:!0,min:!0,class:!0}),pt.forEach(d),this.h()},h(){h(t,"class","pt-12 pl-6 text-white"),h(r,"class","ml-12 p-1 text-white"),h(i,"type","number"),h(i,"min",.1),h(i,"class","round-r-4 text-white bg-slate-900 w-16 pl-1 mt-4 border-slate-300 border-2 rounded"),h(s,"class","block"),h(_,"type","checkbox"),h(_,"class","round-r-4 bg-slate-900 ml-12 p-1 mt-4 border-slate-300 border-2 rounded"),h(m,"class","text-white"),h(f,"class","block"),h(g,"type","checkbox"),h(g,"class","round-r-4 bg-slate-900 ml-12 p-1 mt-4 border-slate-300 border-2 rounded"),h(E,"class","text-white"),h(b,"class","block"),h(Y,"class","ml-12 p-1 text-white"),h(I,"type","number"),h(I,"min","0"),h(I,"max",ct=e[4]-1),h(I,"class","round-r-4 text-white bg-slate-900 w-16 pl-1 mt-4 border-slate-300 border-2 rounded"),h(F,"class","block"),h(rt,"class","ml-12 p-1 text-white"),h(W,"type","number"),h(W,"min",ht=e[3]+1),h(W,"class","round-r-4 text-white bg-slate-900 w-16 pl-1 mt-4 border-slate-300 border-2 rounded"),h(Z,"class","block")},m(M,T){C(M,t,T),C(M,a,T),C(M,s,T),v(s,r),v(s,p),v(s,i),U(i,e[0]),C(M,o,T),C(M,f,T),v(f,_),_.checked=e[2],v(f,c),v(f,m),C(M,u,T),C(M,b,T),v(b,g),g.checked=e[1],v(b,z),v(b,E),C(M,B,T),C(M,F,T),v(F,Y),v(F,S),v(F,I),U(I,e[3]),C(M,ut,T),C(M,Z,T),v(Z,rt),v(Z,xt),v(Z,W),U(W,e[4]),vt||(Et=[R(i,"input",e[6]),R(i,"change",e[7]),R(_,"change",e[8]),R(_,"change",e[9]),R(g,"change",e[10]),R(g,"change",e[5]),R(I,"input",e[11]),R(I,"change",e[5]),R(W,"input",e[12]),R(W,"change",e[5])],vt=!0)},p(M,[T]){T&1&&j(i.value)!==M[0]&&U(i,M[0]),T&4&&(_.checked=M[2]),T&2&&(g.checked=M[1]),T&16&&ct!==(ct=M[4]-1)&&h(I,"max",ct),T&8&&j(I.value)!==M[3]&&U(I,M[3]),T&8&&ht!==(ht=M[3]+1)&&h(W,"min",ht),T&16&&j(W.value)!==M[4]&&U(W,M[4])},i:N,o:N,d(M){M&&(d(t),d(a),d(s),d(o),d(f),d(u),d(b),d(B),d(F),d(ut),d(Z)),vt=!1,Pt(Et)}}}function rn(e,t,n){let a=.454545,s=!1,r=!1,l=0,p=.7;function i(){let b=null;s&&(b={minSigma:l,maxSigma:p}),O.update(g=>(g.flames.densityEstimation=b,g.resetType="none",g))}function o(){a=j(this.value),n(0,a)}const f=()=>O.update(b=>(b.flames.gammaCorrection=a,b.resetType="none",b));function _(){r=this.checked,n(2,r)}const c=()=>O.update(b=>(b.flames.antialiasing=r,b.resetType="none",b));function m(){s=this.checked,n(1,s)}function w(){l=j(this.value),n(3,l)}function u(){p=j(this.value),n(4,p)}return[a,s,r,l,p,i,o,f,_,c,m,w,u]}class on extends X{constructor(t){super(),J(this,t,rn,sn,q,{})}}function ln(e){let t,n="Download",a,s,r,l,p,i,o="Image",f,_;return{c(){t=y("p"),t.textContent=n,a=k(),s=y("nav"),r=y("a"),l=_t("Metadata"),p=k(),i=y("button"),i.textContent=o,this.h()},l(c){t=x(c,"P",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-oamdmf"&&(t.textContent=n),a=P(c),s=x(c,"NAV",{class:!0});var m=V(s);r=x(m,"A",{href:!0,class:!0,download:!0});var w=V(r);l=yt(w,"Metadata"),w.forEach(d),p=P(m),i=x(m,"BUTTON",{class:!0,"data-svelte-h":!0}),L(i)!=="svelte-4xp84s"&&(i.textContent=o),m.forEach(d),this.h()},h(){h(t,"class","pt-12 pl-6 text-white"),h(r,"href",e[0]),h(r,"class","text-white block"),h(r,"download",e[1]),h(i,"class","text-white block"),h(s,"class","pl-12 pt-2 text-l")},m(c,m){C(c,t,m),C(c,a,m),C(c,s,m),v(s,r),v(r,l),v(s,p),v(s,i),f||(_=R(i,"click",e[3]),f=!0)},p(c,[m]){m&1&&h(r,"href",c[0]),m&2&&h(r,"download",c[1])},i:N,o:N,d(c){c&&(d(t),d(a),d(s)),f=!1,_()}}}function cn(e,t,n){let a="",s="flames.metadata.json",r;$t.subscribe(o=>r=o),O.subscribe(o=>{l(o.flames)});function l(o){const f=new Blob([JSON.stringify(o,null,4)],{type:"application/json"});n(0,a=URL.createObjectURL(f)),n(1,s="flames.metadata.json")}function p(){if(!r)return;const o=document.createElement("a");o.download="flames.png",o.href=r.toDataURL(),o.click()}return[a,s,p,()=>p()]}class un extends X{constructor(t){super(),J(this,t,cn,ln,q,{})}}function hn(e){let t,n,a,s,r,l,p,i,o,f,_;return n=new un({}),s=new on({}),l=new an({}),i=new tn({}),f=new je({}),{c(){t=y("aside"),Q(n.$$.fragment),a=k(),Q(s.$$.fragment),r=k(),Q(l.$$.fragment),p=k(),Q(i.$$.fragment),o=k(),Q(f.$$.fragment),this.h()},l(c){t=x(c,"ASIDE",{class:!0});var m=V(t);K(n.$$.fragment,m),a=P(m),K(s.$$.fragment,m),r=P(m),K(l.$$.fragment,m),p=P(m),K(i.$$.fragment,m),o=P(m),K(f.$$.fragment,m),m.forEach(d),this.h()},h(){h(t,"class","absolute top-0 w-72 h-full bg-slate-700/25 shadow-lg scroll-smooth overflow-y-auto svelte-1oyje6d"),st(t,"open",e[0])},m(c,m){C(c,t,m),tt(n,t,null),v(t,a),tt(s,t,null),v(t,r),tt(l,t,null),v(t,p),tt(i,t,null),v(t,o),tt(f,t,null),_=!0},p(c,[m]){(!_||m&1)&&st(t,"open",c[0])},i(c){_||(et(n.$$.fragment,c),et(s.$$.fragment,c),et(l.$$.fragment,c),et(i.$$.fragment,c),et(f.$$.fragment,c),_=!0)},o(c){nt(n.$$.fragment,c),nt(s.$$.fragment,c),nt(l.$$.fragment,c),nt(i.$$.fragment,c),nt(f.$$.fragment,c),_=!1},d(c){c&&d(t),at(n),at(s),at(l),at(i),at(f)}}}function mn(e,t,n){let{open:a=!1}=t;return e.$$set=s=>{"open"in s&&n(0,a=s.open)},[a]}class fn extends X{constructor(t){super(),J(this,t,mn,hn,q,{open:0})}}function dn(e){let t,n,a,s,r,l,p,i,o,f;t=new We({});function _(u){e[1](u)}let c={};e[0]!==void 0&&(c.open=e[0]),a=new fn({props:c}),Ct.push(()=>Nt(a,"open",_));function m(u){e[2](u)}let w={};return e[0]!==void 0&&(w.open=e[0]),l=new He({props:w}),Ct.push(()=>Nt(l,"open",m)),o=new Zt({}),{c(){Q(t.$$.fragment),n=k(),Q(a.$$.fragment),r=k(),Q(l.$$.fragment),i=k(),Q(o.$$.fragment)},l(u){K(t.$$.fragment,u),n=P(u),K(a.$$.fragment,u),r=P(u),K(l.$$.fragment,u),i=P(u),K(o.$$.fragment,u)},m(u,b){tt(t,u,b),C(u,n,b),tt(a,u,b),C(u,r,b),tt(l,u,b),C(u,i,b),tt(o,u,b),f=!0},p(u,[b]){const g={};!s&&b&1&&(s=!0,g.open=u[0],Rt(()=>s=!1)),a.$set(g);const z={};!p&&b&1&&(p=!0,z.open=u[0],Rt(()=>p=!1)),l.$set(z)},i(u){f||(et(t.$$.fragment,u),et(a.$$.fragment,u),et(l.$$.fragment,u),et(o.$$.fragment,u),f=!0)},o(u){nt(t.$$.fragment,u),nt(a.$$.fragment,u),nt(l.$$.fragment,u),nt(o.$$.fragment,u),f=!1},d(u){u&&(d(n),d(r),d(i)),at(t,u),at(a,u),at(l,u),at(o,u)}}}function pn(e,t,n){let a=!0;function s(l){a=l,n(0,a)}function r(l){a=l,n(0,a)}return[a,s,r]}class wn extends X{constructor(t){super(),J(this,t,pn,dn,q,{})}}export{wn as component};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
